#!/bin/bash

status=$(xrandr -q | grep "^DP-1 connected")

wallpaper="/home/$USER/.config/repos/Pictures/wallpapers/second.jpg"

if [ -z $status ]
then
    # single display
    notify-send -i /home/$USER/.config/repos/Pictures/icons/monitor64.png "DP-1 Not connected"
    xwallpaper --zoom $wallpaper
else

    result=$(printf "left\nright\nnone" | dmenu -p "Orientation: " -l 4 -vi)

    case $result in 
        "left")     xrandr --output DP-1 --auto --left-of eDP-1 &;;
        "right")    xrandr --output DP-1 --auto --right-of eDP-1 &;;
        "none") ;;
    esac

    # wallpaper
    xwallpaper --output eDP-1 --zoom $wallpaper
    xwallpaper --output DP-1 --zoom $wallpaper
fi
